"use strict";(self.webpackChunkvp=self.webpackChunkvp||[]).push([[82882],{37886:(e,a,n)=>{n.r(a),n.d(a,{comp:()=>o,data:()=>r});var s=n(60362);const t={class:"hint-container warning"},l={class:"hint-container tip"},i={},o=(0,n(60654).A)(i,[["render",function(e,a){const n=(0,s.g2)("RouteLink");return(0,s.uX)(),(0,s.CE)("div",null,[a[30]||(a[30]=(0,s.Lk)("h1",{id:"adapter-settings",tabindex:"-1"},[(0,s.Lk)("a",{class:"header-anchor",href:"#adapter-settings"},[(0,s.Lk)("span",null,"Adapter settings")])],-1)),(0,s.Lk)("div",t,[a[3]||(a[3]=(0,s.Lk)("p",{class:"hint-container-title"},"ATTENTION",-1)),(0,s.Lk)("p",null,[a[1]||(a[1]=(0,s.eW)("Not all features are supported for every adapter, to see what's supported, go to your ",-1)),(0,s.bF)(n,{to:"/guide/adapters/"},{default:(0,s.k6)(()=>[...a[0]||(a[0]=[(0,s.eW)("adapter page",-1)])]),_:1}),a[2]||(a[2]=(0,s.eW)(".",-1))])]),a[31]||(a[31]=(0,s.Lk)("h2",{id:"basic-configuration",tabindex:"-1"},[(0,s.Lk)("a",{class:"header-anchor",href:"#basic-configuration"},[(0,s.Lk)("span",null,"Basic configuration")])],-1)),a[32]||(a[32]=(0,s.Lk)("p",null,[(0,s.eW)("In case Zigbee2MQTT cannot automatically detect your adapter (fails to start with: "),(0,s.Lk)("code",null,"USB adapter discovery error (No valid USB adapter found). Specify valid 'adapter' and 'port' in your configuration."),(0,s.eW)(") we need to configure the "),(0,s.Lk)("code",null,"serial"),(0,s.eW)(" section in the "),(0,s.Lk)("code",null,"configuration.yaml"),(0,s.eW)(".")],-1)),a[33]||(a[33]=(0,s.Lk)("p",null,"First determine the port of your adapter:",-1)),(0,s.Lk)("ul",null,[(0,s.Lk)("li",null,[(0,s.Lk)("p",null,[a[5]||(a[5]=(0,s.eW)("For USB adapters: when running on Windows see ",-1)),(0,s.bF)(n,{to:"/guide/installation/05_windows.html#starting-zigbee2mqtt"},{default:(0,s.k6)(()=>[...a[4]||(a[4]=[(0,s.eW)("these instructions",-1)])]),_:1}),a[6]||(a[6]=(0,s.eW)(", for Linux execute ",-1)),a[7]||(a[7]=(0,s.Lk)("code",null,"ls -l /dev/serial/by-id",-1)),a[8]||(a[8]=(0,s.eW)(":",-1))]),a[9]||(a[9]=(0,s.Fv)('<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">pi@raspberry:/ $ <span class="token function">ls</span> <span class="token parameter variable">-l</span> /dev/serial/by-id</span>\n<span class="line">total <span class="token number">0</span></span>\n<span class="line">lrwxrwxrwx. <span class="token number">1</span> root root <span class="token number">13</span> Oct <span class="token number">19</span> <span class="token number">19</span>:26 usb-Texas_Instruments_TI_CC2531_USB_CDC___0X00124B0018ED3DDF-if00 -<span class="token operator">&gt;</span> <span class="token punctuation">..</span>/<span class="token punctuation">..</span>/ttyACM0</span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>If it&#39;s still not connecting, make sure your adapter is in USB mode. Some adapters, eg. the <a href="https://xzg.xyzroe.cc/hardware/" target="_blank" rel="noopener noreferrer">ZigStar</a> run in network mode by default, and won&#39;t communicate over USB until put into USB mode.</li></ul>',2))]),a[10]||(a[10]=(0,s.Lk)("li",null,[(0,s.Lk)("p",null,"For network adapters you need to find the IP address of your adapter through router/switch web-interface. Make sure that the adapter has been assigned a static IP address!"),(0,s.Lk)("ul",null,[(0,s.Lk)("li",null,"Alternatively, in case your adapter supports mDNS, see the mDNS docs below.")])],-1))]),(0,s.Lk)("p",null,[a[12]||(a[12]=(0,s.eW)("Next determine what ",-1)),a[13]||(a[13]=(0,s.Lk)("code",null,"adapter",-1)),a[14]||(a[14]=(0,s.eW)(" you are using by going to your ",-1)),(0,s.bF)(n,{to:"/guide/adapters/"},{default:(0,s.k6)(()=>[...a[11]||(a[11]=[(0,s.eW)("adapter page",-1)])]),_:1}),a[15]||(a[15]=(0,s.eW)(". Possible adapters are ",-1)),a[16]||(a[16]=(0,s.Lk)("code",null,"zstack",-1)),a[17]||(a[17]=(0,s.eW)(", ",-1)),a[18]||(a[18]=(0,s.Lk)("code",null,"ember",-1)),a[19]||(a[19]=(0,s.eW)(", ",-1)),a[20]||(a[20]=(0,s.Lk)("code",null,"deconz",-1)),a[21]||(a[21]=(0,s.eW)(", ",-1)),a[22]||(a[22]=(0,s.Lk)("code",null,"zigate",-1)),a[23]||(a[23]=(0,s.eW)(" or ",-1)),a[24]||(a[24]=(0,s.Lk)("code",null,"zboss",-1)),a[25]||(a[25]=(0,s.eW)(".",-1))]),a[34]||(a[34]=(0,s.Fv)('<p>Given the example of the USB adapter above in combination with a <code>zstack</code> adapter, we would add the following to the <code>configuration.yaml</code>:</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml"><pre><code class="language-yaml"><span class="line"><span class="token key atrule">serial</span><span class="token punctuation">:</span></span>\n<span class="line">    <span class="token comment"># Location of the adapter</span></span>\n<span class="line">    <span class="token comment"># USB adapters - use format &quot;port: /dev/serial/by-id/XXX&quot;</span></span>\n<span class="line">    <span class="token comment"># Ethernet adapters - use format &quot;port: tcp://192.168.1.12:6638&quot;</span></span>\n<span class="line">    <span class="token key atrule">port</span><span class="token punctuation">:</span> /dev/serial/by<span class="token punctuation">-</span>id/usb<span class="token punctuation">-</span>Texas_Instruments_TI_CC2531_USB_CDC___0X00124B0018ED3DDF<span class="token punctuation">-</span>if00</span>\n<span class="line">    <span class="token comment"># Adapter type, allowed values: `zstack`, `ember`, `deconz`, `zigate` or `zboss`</span></span>\n<span class="line">    <span class="token key atrule">adapter</span><span class="token punctuation">:</span> zstack</span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This serial configuration should be enough to make Zigbee2MQTT start.</p><h2 id="mdns-zeroconf-discovery" tabindex="-1"><a class="header-anchor" href="#mdns-zeroconf-discovery"><span>mDNS Zeroconf discovery.</span></a></h2><p>Zigbee2MQTT supports automatic discovery of Zigbee network Adapters. In order to use this feature, your adapter must support discovery via mDNS Zeroconf.</p><p>If you have a more than 1 device with the same mDNS service type (name), Zigbee2MQTT with autodiscover option will connect to the random one. So for proper use we recommend to have only one physically connected network adapter with the same mDNS service type (name). Otherwise, please set-up a settings over IP address and port, as described on the passage above.</p><div class="hint-container warning"><p class="hint-container-title">ATTENTION</p><p>When using this autodetection, the following parameters in <code>configuration.yaml</code> will be ignored: <code>adapter</code>, <code>baudrate</code></p></div><p>List of tested devices supporting mDNS Zeroconf autodiscovery:</p><table><thead><tr><th style="text-align:left;">Device</th><th style="text-align:center;">MDNS service type</th></tr></thead><tbody><tr><td style="text-align:left;">SLZB-06</td><td style="text-align:center;">slzb-06</td></tr><tr><td style="text-align:left;">UZG-01</td><td style="text-align:center;">uzg-01</td></tr><tr><td style="text-align:left;">CZC-01</td><td style="text-align:center;">czc</td></tr></tbody></table><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml"><pre><code class="language-yaml"><span class="line"><span class="token key atrule">serial</span><span class="token punctuation">:</span></span>\n<span class="line">    <span class="token key atrule">port</span><span class="token punctuation">:</span> mdns<span class="token punctuation">:</span>//slzb<span class="token punctuation">-</span><span class="token number">06</span></span>\n<span class="line">    <span class="token comment"># port: mdns://uzg-01</span></span>\n<span class="line">    <span class="token comment"># port: mdns://czc</span></span>\n<span class="line">    <span class="token comment"># Optional: disable LED of the adapter if supported (default: false)</span></span>\n<span class="line">    <span class="token key atrule">disable_led</span><span class="token punctuation">:</span> <span class="token boolean important">false</span></span>\n<span class="line">    <span class="token comment"># Optional: Baud rate speed for serial port, this can be anything firmware support but default is 115200 for Z-Stack and EZSP, 38400 for Deconz, however note that some EZSP firmware need 57600.</span></span>\n<span class="line">    <span class="token key atrule">baudrate</span><span class="token punctuation">:</span> <span class="token number">115200</span></span>\n<span class="line">    <span class="token comment"># Optional: RTS / CTS Hardware Flow Control for serial port (default: false)</span></span>\n<span class="line">    <span class="token key atrule">rtscts</span><span class="token punctuation">:</span> <span class="token boolean important">false</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="advanced-configuration" tabindex="-1"><a class="header-anchor" href="#advanced-configuration"><span>Advanced configuration</span></a></h2><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml"><pre><code class="language-yaml"><span class="line"><span class="token key atrule">advanced</span><span class="token punctuation">:</span></span>\n<span class="line">    <span class="token comment"># Optional: configure adapter concurrency (e.g. 2 for CC2531 or 16 for CC26X2R1) (default: null, uses recommended value)</span></span>\n<span class="line">    <span class="token key atrule">adapter_concurrent</span><span class="token punctuation">:</span> <span class="token null important">null</span></span>\n<span class="line">    <span class="token comment"># Optional: Transmit power setting in dBm (default: 5).</span></span>\n<span class="line">    <span class="token comment"># This will set the transmit power for devices that bring an inbuilt amplifier.</span></span>\n<span class="line">    <span class="token comment"># It can&#39;t go over the maximum of the respective hardware and might be limited</span></span>\n<span class="line">    <span class="token comment"># by firmware (for example to migrate heat, or by using an unsupported firmware).</span></span>\n<span class="line">    <span class="token comment"># For the CC2652R(B) this is 5 dBm, CC2652P/CC1352P-2 20 dBm.</span></span>\n<span class="line">    <span class="token key atrule">transmit_power</span><span class="token punctuation">:</span> <span class="token number">5</span></span>\n<span class="line">    <span class="token comment"># Optional: Set the adapter delay, only used for Conbee/Raspbee adapters (default 0).</span></span>\n<span class="line">    <span class="token comment"># In case you are having issues try `200`.</span></span>\n<span class="line">    <span class="token comment"># For more information see https://github.com/Koenkk/zigbee2mqtt/issues/4884</span></span>\n<span class="line">    <span class="token key atrule">adapter_delay</span><span class="token punctuation">:</span> <span class="token number">0</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',12)),(0,s.Lk)("div",l,[a[29]||(a[29]=(0,s.Lk)("p",{class:"hint-container-title"},"Tips",-1)),(0,s.Lk)("p",null,[a[27]||(a[27]=(0,s.eW)("It's also possible to connect USB Adapters over TCP. See how to connect a ",-1)),(0,s.bF)(n,{to:"/advanced/remote-adapter/connect_to_a_remote_adapter.html"},{default:(0,s.k6)(()=>[...a[26]||(a[26]=[(0,s.eW)("remote adapter",-1)])]),_:1}),a[28]||(a[28]=(0,s.eW)(".",-1))])])])}]]),r=JSON.parse('{"path":"/guide/configuration/adapter-settings.html","title":"Adapter settings","lang":"en-US","frontmatter":{"pageClass":"content-page","sidebarDepth":1},"git":{"updatedTime":1762029806000,"contributors":[{"name":"Koen Kanters","username":"","email":"koenkanters94@gmail.com","commits":1}],"changelog":[{"hash":"65fac821d7d53a7e50cd38541621bbb5ac5d9dd0","time":1762029806000,"email":"koenkanters94@gmail.com","author":"Koen Kanters","message":"Update zhc to 25.59.0"}]},"filePathRelative":"guide/configuration/adapter-settings.md"}')}}]);
<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.26" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <script>if(window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) { window.document.querySelector('html').classList.add('dark');} </script><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png"><link rel="manifest" href="/site.webmanifest"><link rel="mask-icon" color="#ffc135" href="/safari-pinned-tab.svg"><meta name="msapplication-TileColor" content="#ffc135"><meta name="theme-color" content="#ffc135"><title>OTA updates | Zigbee2MQTT</title><meta name="description" content="Zigbee to MQTT bridge, get rid of your proprietary Zigbee bridges">
    <link rel="stylesheet" href="/assets/css/styles.2e8ea9e0.css">
    <link rel="preload" href="/assets/js/runtime~app.fd7cd563.js" as="script"><link rel="preload" href="/assets/css/styles.2e8ea9e0.css" as="style"><link rel="preload" href="/assets/js/5654.0a647862.js" as="script"><link rel="preload" href="/assets/js/app.a5c72e85.js" as="script">
    
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon content-page" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><img class="vp-site-logo" src="/logo.png" alt="Zigbee2MQTT"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">Zigbee2MQTT</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Guide"><span class="title">Guide</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Guide"><span class="title">Guide</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/guide/getting-started/" aria-label="Getting started"><!--[--><!--[--><!--]--><!--]-->Getting started<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/guide/adapters/" aria-label="Supported Adapters"><!--[--><!--[--><!--]--><!--]-->Supported Adapters<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/supported-devices/" aria-label="Supported Devices"><!--[--><!--[--><!--]--><!--]-->Supported Devices<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/guide/installation/" aria-label="Installation"><!--[--><!--[--><!--]--><!--]-->Installation<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/guide/configuration/" aria-label="Configuration"><!--[--><!--[--><!--]--><!--]-->Configuration<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/guide/usage/pairing_devices.html" aria-label="Usage"><!--[--><!--[--><!--]--><!--]-->Usage<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/guide/faq/" aria-label="FAQ"><!--[--><!--[--><!--]--><!--]-->FAQ<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/supported-devices/" aria-label="Devices"><!--[--><!--[--><!--]--><!--]-->Devices<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Advanced"><span class="title">Advanced</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Advanced"><span class="title">Advanced</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>Zigbee</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/advanced/zigbee/01_zigbee_network.html" aria-label="Zigbee network"><!--[--><!--[--><!--]--><!--]-->Zigbee network<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/advanced/zigbee/02_improve_network_range_and_stability.html" aria-label="Improve network range and stability"><!--[--><!--[--><!--]--><!--]-->Improve network range and stability<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/advanced/zigbee/03_secure_network.html" aria-label="Secure your Zigbee network"><!--[--><!--[--><!--]--><!--]-->Secure your Zigbee network<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/advanced/zigbee/04_sniff_zigbee_traffic.html" aria-label="Sniff Zigbee traffic"><!--[--><!--[--><!--]--><!--]-->Sniff Zigbee traffic<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/advanced/zigbee/05_create_a_cc2530_router.html" aria-label="Create a CC2530 router"><!--[--><!--[--><!--]--><!--]-->Create a CC2530 router<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>Support new devices</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/advanced/support-new-devices/01_support_new_devices.html" aria-label="Support new devices"><!--[--><!--[--><!--]--><!--]-->Support new devices<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/advanced/support-new-devices/02_support_new_tuya_devices.html" aria-label="Support new Tuya devices"><!--[--><!--[--><!--]--><!--]-->Support new Tuya devices<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/advanced/support-new-devices/03_find_tuya_data_points.html" aria-label="Find Tuya Data Points"><!--[--><!--[--><!--]--><!--]-->Find Tuya Data Points<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>Remote Adapter</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/advanced/remote-adapter/connect_to_a_remote_adapter.html" aria-label="Connect to a remote adapter"><!--[--><!--[--><!--]--><!--]-->Connect to a remote adapter<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/advanced/remote-adapter/connect_to_a_remote_sonoff_zbbridge.html" aria-label="Connect to a remote Sonoff ZBBridge"><!--[--><!--[--><!--]--><!--]-->Connect to a remote Sonoff ZBBridge<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>More</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/advanced/more/3d_cases.html" aria-label="3D cases"><!--[--><!--[--><!--]--><!--]-->3D cases<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/advanced/more/external_converters.html" aria-label="External converters"><!--[--><!--[--><!--]--><!--]-->External converters<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/advanced/more/external_extensions.html" aria-label="External extensions"><!--[--><!--[--><!--]--><!--]-->External extensions<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/advanced/more/switch-to-dev-branch.html" aria-label="Switch to the dev branch"><!--[--><!--[--><!--]--><!--]-->Switch to the dev branch<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/advanced/more/tuya_xiaomi_ota_url.html" aria-label="Get Tuya and Xiaomi OTA url"><!--[--><!--[--><!--]--><!--]-->Get Tuya and Xiaomi OTA url<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Support"><span class="title">Support</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Support"><span class="title">Support</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://github.com/Koenkk/zigbee2mqtt/discussions" aria-label="Forum" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Forum<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://discord.gg/NyseBeK" aria-label="Discord" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Discord<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://github.com/Koenkk/zigbee2mqtt/issues" aria-label="Issues" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Issues<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://github.com/Koenkk/zigbee2mqtt" aria-label="Donate" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Donate<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/Koenkk/zigbee2mqtt" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/Koenkk/zigbee2mqtt.io" aria-label="GitHub (docs)" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub (docs)<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!--[--><div id="docsearch-container" style="display:none;"></div><div class="docsearch-placeholder"><button type="button" aria-label="Search" aria-keyshortcuts="Control+k" class="DocSearch DocSearch-Button"><span class="DocSearch-Button-Container"><svg width="20" height="20" viewBox="0 0 24 24" aria-hidden="true" class="DocSearch-Search-Icon"><circle cx="11" cy="11" r="8" stroke="currentColor" fill="none" stroke-width="1.4"></circle><path d="m21 21-4.3-4.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key DocSearch-Button-Key--ctrl">Ctrl</kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Guide"><span class="title">Guide</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Guide"><span class="title">Guide</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/guide/getting-started/" aria-label="Getting started"><!--[--><!--[--><!--]--><!--]-->Getting started<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/guide/adapters/" aria-label="Supported Adapters"><!--[--><!--[--><!--]--><!--]-->Supported Adapters<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/supported-devices/" aria-label="Supported Devices"><!--[--><!--[--><!--]--><!--]-->Supported Devices<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/guide/installation/" aria-label="Installation"><!--[--><!--[--><!--]--><!--]-->Installation<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/guide/configuration/" aria-label="Configuration"><!--[--><!--[--><!--]--><!--]-->Configuration<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/guide/usage/pairing_devices.html" aria-label="Usage"><!--[--><!--[--><!--]--><!--]-->Usage<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/guide/faq/" aria-label="FAQ"><!--[--><!--[--><!--]--><!--]-->FAQ<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/supported-devices/" aria-label="Devices"><!--[--><!--[--><!--]--><!--]-->Devices<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Advanced"><span class="title">Advanced</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Advanced"><span class="title">Advanced</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>Zigbee</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/advanced/zigbee/01_zigbee_network.html" aria-label="Zigbee network"><!--[--><!--[--><!--]--><!--]-->Zigbee network<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/advanced/zigbee/02_improve_network_range_and_stability.html" aria-label="Improve network range and stability"><!--[--><!--[--><!--]--><!--]-->Improve network range and stability<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/advanced/zigbee/03_secure_network.html" aria-label="Secure your Zigbee network"><!--[--><!--[--><!--]--><!--]-->Secure your Zigbee network<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/advanced/zigbee/04_sniff_zigbee_traffic.html" aria-label="Sniff Zigbee traffic"><!--[--><!--[--><!--]--><!--]-->Sniff Zigbee traffic<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/advanced/zigbee/05_create_a_cc2530_router.html" aria-label="Create a CC2530 router"><!--[--><!--[--><!--]--><!--]-->Create a CC2530 router<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>Support new devices</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/advanced/support-new-devices/01_support_new_devices.html" aria-label="Support new devices"><!--[--><!--[--><!--]--><!--]-->Support new devices<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/advanced/support-new-devices/02_support_new_tuya_devices.html" aria-label="Support new Tuya devices"><!--[--><!--[--><!--]--><!--]-->Support new Tuya devices<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/advanced/support-new-devices/03_find_tuya_data_points.html" aria-label="Find Tuya Data Points"><!--[--><!--[--><!--]--><!--]-->Find Tuya Data Points<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>Remote Adapter</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/advanced/remote-adapter/connect_to_a_remote_adapter.html" aria-label="Connect to a remote adapter"><!--[--><!--[--><!--]--><!--]-->Connect to a remote adapter<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/advanced/remote-adapter/connect_to_a_remote_sonoff_zbbridge.html" aria-label="Connect to a remote Sonoff ZBBridge"><!--[--><!--[--><!--]--><!--]-->Connect to a remote Sonoff ZBBridge<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>More</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/advanced/more/3d_cases.html" aria-label="3D cases"><!--[--><!--[--><!--]--><!--]-->3D cases<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/advanced/more/external_converters.html" aria-label="External converters"><!--[--><!--[--><!--]--><!--]-->External converters<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/advanced/more/external_extensions.html" aria-label="External extensions"><!--[--><!--[--><!--]--><!--]-->External extensions<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/advanced/more/switch-to-dev-branch.html" aria-label="Switch to the dev branch"><!--[--><!--[--><!--]--><!--]-->Switch to the dev branch<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/advanced/more/tuya_xiaomi_ota_url.html" aria-label="Get Tuya and Xiaomi OTA url"><!--[--><!--[--><!--]--><!--]-->Get Tuya and Xiaomi OTA url<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Support"><span class="title">Support</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Support"><span class="title">Support</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://github.com/Koenkk/zigbee2mqtt/discussions" aria-label="Forum" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Forum<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://discord.gg/NyseBeK" aria-label="Discord" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Discord<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://github.com/Koenkk/zigbee2mqtt/issues" aria-label="Issues" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Issues<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="auto-link external-link" href="https://github.com/Koenkk/zigbee2mqtt" aria-label="Donate" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Donate<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/Koenkk/zigbee2mqtt" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/Koenkk/zigbee2mqtt.io" aria-label="GitHub (docs)" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub (docs)<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/guide/getting-started/" aria-label="Getting started"><!--[--><!--[--><!--]--><!--]-->Getting started<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/guide/supported-hardware.html" aria-label="Supported Hardware"><!--[--><!--[--><!--]--><!--]-->Supported Hardware<!--[--><!--[--><!--]--><!--]--></a><ul class="vp-sidebar-children" style=""><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/adapters/" aria-label="Adapters"><!--[--><!--[--><!--]--><!--]-->Adapters<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/supported-devices/" aria-label="Devices"><!--[--><!--[--><!--]--><!--]-->Devices<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/guide/installation/" aria-label="Installation"><!--[--><!--[--><!--]--><!--]-->Installation<!--[--><!--[--><!--]--><!--]--></a><ul class="vp-sidebar-children" style=""><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/installation/01_linux.html" aria-label="Linux"><!--[--><!--[--><!--]--><!--]-->Linux<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/installation/02_docker.html" aria-label="Docker"><!--[--><!--[--><!--]--><!--]-->Docker<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/installation/03_ha_addon.html" aria-label="Home Assistant addon"><!--[--><!--[--><!--]--><!--]-->Home Assistant addon<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/installation/04_openhabian.html" aria-label="openHABian"><!--[--><!--[--><!--]--><!--]-->openHABian<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/installation/05_windows.html" aria-label="Windows"><!--[--><!--[--><!--]--><!--]-->Windows<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/installation/06_freebsd_jail.html" aria-label="FreeBSD jail"><!--[--><!--[--><!--]--><!--]-->FreeBSD jail<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/installation/08_kubernetes.html" aria-label="Kubernetes"><!--[--><!--[--><!--]--><!--]-->Kubernetes<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/installation/15_watchdog.html" aria-label="Watchdog"><!--[--><!--[--><!--]--><!--]-->Watchdog<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/installation/20_zigbee2mqtt-fails-to-start_crashes-runtime.html" aria-label="Zigbee2MQTT fails to start/crashes runtime"><!--[--><!--[--><!--]--><!--]-->Zigbee2MQTT fails to start/crashes runtime<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/guide/configuration/" aria-label="Configuration"><!--[--><!--[--><!--]--><!--]-->Configuration<!--[--><!--[--><!--]--><!--]--></a><ul class="vp-sidebar-children" style=""><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/configuration/adapter-settings.html" aria-label="Adapter settings"><!--[--><!--[--><!--]--><!--]-->Adapter settings<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/configuration/mqtt.html" aria-label="MQTT"><!--[--><!--[--><!--]--><!--]-->MQTT<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/configuration/zigbee-network.html" aria-label="Zigbee network"><!--[--><!--[--><!--]--><!--]-->Zigbee network<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/configuration/frontend.html" aria-label="Frontend"><!--[--><!--[--><!--]--><!--]-->Frontend<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/configuration/devices-groups.html" aria-label="Devices and Groups"><!--[--><!--[--><!--]--><!--]-->Devices and Groups<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/configuration/logging.html" aria-label="Logging"><!--[--><!--[--><!--]--><!--]-->Logging<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/configuration/block-pass-list.html" aria-label="Device blocklist / passlist"><!--[--><!--[--><!--]--><!--]-->Device blocklist / passlist<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/configuration/ota-device-updates.html" aria-label="OTA device firmware update"><!--[--><!--[--><!--]--><!--]-->OTA device firmware update<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/configuration/device-availability.html" aria-label="Device Availability"><!--[--><!--[--><!--]--><!--]-->Device Availability<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/configuration/homeassistant.html" aria-label="Home Assistant integration"><!--[--><!--[--><!--]--><!--]-->Home Assistant integration<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/configuration/more-config-options.html" aria-label="More configuration options"><!--[--><!--[--><!--]--><!--]-->More configuration options<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/configuration/configuration-update.html" aria-label="Configuration update"><!--[--><!--[--><!--]--><!--]-->Configuration update<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/configuration/all-settings.html" aria-label="All settings"><!--[--><!--[--><!--]--><!--]-->All settings<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link route-link-active auto-link vp-sidebar-item vp-sidebar-heading active" href="/guide/usage/" aria-label="Usage"><!--[--><!--[--><!--]--><!--]-->Usage<!--[--><!--[--><!--]--><!--]--></a><ul class="vp-sidebar-children" style=""><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guide/usage/pairing_devices.html" aria-label="Allowing devices to join"><!--[--><!--[--><!--]--><!--]-->Allowing devices to join<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/usage/integrations.html" aria-label="Integrations"><!--[--><!--[--><!--]--><!--]-->Integrations<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/usage/touchlink.html" aria-label="Touchlink"><!--[--><!--[--><!--]--><!--]-->Touchlink<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/usage/scenes.html" aria-label="Scenes"><!--[--><!--[--><!--]--><!--]-->Scenes<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/usage/binding.html" aria-label="Binding"><!--[--><!--[--><!--]--><!--]-->Binding<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/usage/groups.html" aria-label="Groups"><!--[--><!--[--><!--]--><!--]-->Groups<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/guide/usage/ota_updates.html" aria-label="OTA updates"><!--[--><!--[--><!--]--><!--]-->OTA updates<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/usage/mqtt_topics_and_messages.html" aria-label="MQTT Topics and Messages"><!--[--><!--[--><!--]--><!--]-->MQTT Topics and Messages<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/usage/exposes.html" aria-label="Exposes"><!--[--><!--[--><!--]--><!--]-->Exposes<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guide/usage/health.html" aria-label="Health"><!--[--><!--[--><!--]--><!--]-->Health<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/guide/faq/" aria-label="FAQ"><!--[--><!--[--><!--]--><!--]-->FAQ<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div id="content"><h1 id="ota-updates" tabindex="-1"><a class="header-anchor" href="#ota-updates"><span>OTA updates</span></a></h1><p>This feature allows to update your Zigbee devices over-the-air.</p><div class="hint-container tip"><p class="hint-container-title">TIP</p><p>Always check if the firmware update will bring you advantages. Firmware updates are often NOT made for Zigbee2MQTT, but for working with apps and hubs from the brand. In some cases the firmware update can cause your device to react differently than what Zigbee2MQTT expects, resulting in undesired behavior, no-longer accessible features, etc., at least until Zigbee2MQTT is updated to take those changes into account. If you get annoyed by the notifications that there are updates available, then turn the automatic check off.</p></div><p>Not all manufacturers make their updates available, you can watch for new additions in <a href="https://github.com/Koenkk/zigbee-OTA/releases" target="_blank" rel="noopener noreferrer">zigbee-OTA Releases</a>, which, if available, include the changes in these new updates.</p><p>To check whether your specific device supports OTA updates via Zigbee2MQTT, go to the supported devices page, click on your device and look for the <em>OTA updates</em> section.</p><h2 id="automatic-checking-for-available-updates" tabindex="-1"><a class="header-anchor" href="#automatic-checking-for-available-updates"><span>Automatic checking for available updates</span></a></h2><p>Zigbee devices supporting OTA can periodically request a firmware update check. Upon reception of such a request, Zigbee2MQTT will automatically check if an update is available and reply to the device accordingly. If an update is available, and you had previously scheduled an auto-update, Zigbee2MQTT will also signal the device to start the update.</p><p>The update state will be published to <code>zigbee2mqtt/[DEVICE_FRIENDLY_NAME]</code>, example payload: <code>{&quot;update&quot;:{&quot;state&quot;:&quot;available&quot;}}</code>. The possible states are:</p><ul><li><code>idle</code>: No update available/in progress</li><li><code>available</code>: An update is available for this device</li><li><code>scheduled</code>: An update is scheduled on the next update check request from the device.</li><li><code>updating</code>: An update is in progress. <ul><li>During this the progress in % and remaining time in seconds is also added to the payload (reported every 30sec), example: <code>{&quot;update&quot;:{&quot;state&quot;:&quot;updating&quot;,&quot;progress&quot;:13.37,&quot;remaining&quot;:219}}</code>.</li><li>The first progress report (at 0%) gives an estimated remaining time based on the OTA settings. The actual remaining time will adjust with each progress report based on the current state (greatly affected by the network).</li></ul></li></ul><p>You can set the minimum time that should pass between two firmware update checks, in minutes. The default is 1440 minutes (1 day). This does not prevent a device from requesting, Zigbee2MQTT will just ignore these messages if within that time. Here it is set to check at most every two days:</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml"><pre><code class="language-yaml"><span class="line"><span class="token key atrule">ota</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">update_check_interval</span><span class="token punctuation">:</span> <span class="token number">2880</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>It is also possible to completely ignore these device-initiated requests for updates checks (Zigbee2MQTT will always reply &quot;no image available&quot;) by modifying the <code>configuration.yaml</code> file. In the example below, only manual firmware update checks will proceed:</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml"><pre><code class="language-yaml"><span class="line"><span class="token key atrule">ota</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">disable_automatic_update_check</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>This is also available per-device. See <a class="route-link" href="/guide/configuration/devices-groups.html">Device options</a>.</p><div class="hint-container tip"><p class="hint-container-title">TIP</p><p>Disabling automatic update checks does not disable <a href="#scheduling-update-on-next-device-request">scheduled OTA</a>.</p></div><h2 id="manually-check-if-an-update-is-available" tabindex="-1"><a class="header-anchor" href="#manually-check-if-an-update-is-available"><span>Manually check if an update is available</span></a></h2><p>To check if an upgrade is available for your device send a message to <code>zigbee2mqtt/bridge/request/device/ota_update/check</code> with payload <code>{&quot;id&quot;:&quot;deviceID&quot;}</code> where deviceID can be the <code>ieee_address</code> or <code>friendly_name</code> of the device. Example; request: <code>{&quot;id&quot;:&quot;my_remote&quot;}</code>, response: <code>{&quot;data&quot;:{&quot;id&quot;:&quot;my_remote&quot;,&quot;update_available&quot;:false},&quot;status&quot;:&quot;ok&quot;}</code>. If an update is available (<code>&quot;update_available&quot;:true</code>), the response will also contain:</p><ul><li><code>source</code>: the URL or file path to the OTA file</li><li><code>release_notes</code>: (if provided) the release notes for the source</li><li><code>downgrade</code>: true if the availability is for a downgrade</li></ul><div class="hint-container tip"><p class="hint-container-title">TIP</p><p>For battery powered end-devices you may need to trigger them by e.g. pushing a button right before checking for an OTA.</p></div><h3 id="downgrade" tabindex="-1"><a class="header-anchor" href="#downgrade"><span>Downgrade</span></a></h3><p>Same as above, but send the message to <code>zigbee2mqtt/bridge/request/device/ota_update/check/downgrade</code> instead.</p><h2 id="update-firmware" tabindex="-1"><a class="header-anchor" href="#update-firmware"><span>Update firmware</span></a></h2><p>When an update is available for your device, you can upgrade it by sending a message to <code>zigbee2mqtt/bridge/request/device/ota_update/update</code> with payload <code>{&quot;id&quot;:&quot;deviceID&quot;}</code> where deviceID can be the <code>ieee_address</code> or <code>friendly_name</code> of the device, example request: <code>{&quot;id&quot;:&quot;my_remote&quot;}</code>. Once the update is completed, a response is sent, example response: <code>{&quot;data&quot;:{&quot;id&quot;:&quot;my_remote&quot;,&quot;from&quot;:{&quot;file_version&quot;:5,&quot;software_build_id&quot;:1,&quot;date_code&quot;:&quot;20190101&quot;},&quot;to&quot;:{&quot;file_version&quot;:10,&quot;software_build_id&quot;:2,&quot;date_code&quot;:&quot;20190102&quot;}},&quot;status&quot;:&quot;ok&quot;}</code>. Note that since <code>software_build_id</code> and <code>date_code</code> are optional device attributes, they may not be in the payload if not supported by the device.</p><div class="hint-container tip"><p class="hint-container-title">TIP</p><p>An update typically takes 10-20 minutes (although some devices may take a lot longer). While a device is updating a lot of traffic is generated on the network, therefore it is not recommended to execute multiple updates at the same time, and ideally to update while the network is less in-demand.</p></div><div class="hint-container tip"><p class="hint-container-title">TIP</p><p>Upon completion of uploading an OTA file to a device, the device will apply the update, reboot, then re-announce itself. Zigbee2MQTT allocates 2 minutes before considering the update done, if the device did not re-announce itself. After this, Zigbee2MQTT will re-interview the device to ensure any new capability is detected.</p></div><h4 id="override-ota-settings" tabindex="-1"><a class="header-anchor" href="#override-ota-settings"><span>Override OTA settings</span></a></h4><p>You can override OTA settings per-request by providing the following in the payload: <code>image_block_request_timeout</code>, <code>image_block_response_delay</code>, <code>default_maximum_data_size</code>. Any combination is accepted; any setting not provided will use the one in the <code>configuration.yaml</code> if present, or the default.</p><p>See <a href="#advanced-configuration">Advanced configuration</a> for details about these settings.</p><h3 id="downgrade-1" tabindex="-1"><a class="header-anchor" href="#downgrade-1"><span>Downgrade</span></a></h3><p>Same as above but send the message to <code>zigbee2mqtt/bridge/request/device/ota_update/update/downgrade</code> instead.</p><h3 id="scheduling-update-on-next-device-request" tabindex="-1"><a class="header-anchor" href="#scheduling-update-on-next-device-request"><span>Scheduling update on next device request</span></a></h3><div class="hint-container tip"><p class="hint-container-title">TIP</p><p>This can help for battery-powered devices that will usually fail to respond to <a href="#update-firmware">manual update requests</a> unless physically woken up right before triggering. Some brands/models are also known to only update this way (e.g. some Legrand devices).</p></div><p>You can schedule an automatic update for the next time the device requests an OTA update check. Send a message to <code>zigbee2mqtt/bridge/request/device/ota_update/schedule</code> with payload <code>{&quot;id&quot;:&quot;deviceID&quot;}</code> where deviceID can be the <code>ieee_address</code> or <code>friendly_name</code> of the device, example request: <code>{&quot;id&quot;:&quot;my_remote&quot;}</code>. The same applies for downgrade with topic <code>zigbee2mqtt/bridge/request/device/ota_update/schedule/downgrade</code>.</p><p>To unschedule, send the same payload, but with the topic <code>zigbee2mqtt/bridge/request/device/ota_update/unschedule</code>.</p><p>Any new schedule request for the same device will automatically unschedule the previous (if any). For e.g. sending a downgrade schedule request while an upgrade is already scheduled will result in downgrade being scheduled, and upgrade being unscheduled.</p><p>Any <a href="#update-firmware">manual update request</a> will automatically unschedule any existing schedule for the device if the update succeeds.</p><p>If a scheduled update fails, it will remain scheduled (for the next check from the device).</p><p>Devices scheduling information is saved in the database, and restored after a Zigbee2MQTT restart.</p><h2 id="using-custom-firmware-files-or-index" tabindex="-1"><a class="header-anchor" href="#using-custom-firmware-files-or-index"><span>Using custom firmware files or index</span></a></h2><div class="hint-container caution"><p class="hint-container-title">CAUTION</p><p>Improper use of custom OTA firmware files or index can result in bricked devices. Due to the nature of &quot;custom firmware&quot;, several of the regular OTA constraints are bypassed in this mode. <strong>Use trusted sources!</strong></p></div><h3 id="url-file-path" tabindex="-1"><a class="header-anchor" href="#url-file-path"><span>URL / file path</span></a></h3><p>The following topics support supplying <code>url</code> in the payload, which can point to either an accessible URL, or a location on the file system where Zigbee2MQTT is installed. If <code>url</code> is a relative path, Zigbee2MQTT will assume this is relative to its data directory. If the pointed location is a JSON file (<code>*.json</code>), it will be treated as an index, else as a firmware file.</p><ul><li><code>bridge/request/device/ota_update/check</code><ul><li>Only index (JSON) is supported, used for checking for availability of upgrade (instead of the default URL provided by Zigbee2MQTT)</li></ul></li><li><code>bridge/request/device/ota_update/check/downgrade</code><ul><li>Only index (JSON) is supported, used for checking for availability of downgrade (instead of the default URL provided by Zigbee2MQTT)</li></ul></li><li><code>bridge/request/device/ota_update/update</code></li><li><code>bridge/request/device/ota_update/update/downgrade</code></li><li><code>bridge/request/device/ota_update/schedule</code></li><li><code>bridge/request/device/ota_update/schedule/downgrade</code></li></ul><h3 id="hex-payload" tabindex="-1"><a class="header-anchor" href="#hex-payload"><span>Hex payload</span></a></h3><p>The following topics support supplying <code>hex</code> in the payload, which takes the form <code>&quot;hex&quot;:{&quot;data&quot;:&quot;1EF1EEB0...&quot;,&quot;file_name&quot;:&quot;my-file.ota&quot;}</code>, where <code>data</code> is the full OTA file in hex string form. The <code>file_name</code> is optional, if not provided, one will be generated from the device&#39;s IEEE. This is used to store the firmware file under the Zigbee2MQTT data subdirectory <code>ota</code> upon receipt.</p><p>Note: This is mainly intended for frontend use, where this payload is automatically built in the background from a &quot;file upload&quot; dialog.</p><ul><li><code>bridge/request/device/ota_update/update</code></li><li><code>bridge/request/device/ota_update/update/downgrade</code></li><li><code>bridge/request/device/ota_update/schedule</code></li><li><code>bridge/request/device/ota_update/schedule/downgrade</code></li></ul><div class="hint-container tip"><p class="hint-container-title">TIP</p><p>The following tool can be used for various operations (inspect, edit, etc.) related to custom firmware: <a href="https://nerivec.github.io/zigbee-ota-file-editor/" target="_blank" rel="noopener noreferrer">https://nerivec.github.io/zigbee-ota-file-editor/</a></p></div><h2 id="troubleshooting" tabindex="-1"><a class="header-anchor" href="#troubleshooting"><span>Troubleshooting</span></a></h2><ul><li><code>Device didn&#39;t respond to OTA request</code> or <code>Update failed with reason: &#39;aborted by device&#39;</code>: try restarting the device by disconnecting the power/battery for a few seconds, then try OTA again, make sure to activate the device by pressing a button on it right before sending the update request.</li><li>For battery powered devices make sure that the battery is 70%+ as OTA updating is very power consuming. Some devices check for a minimum battery level prior to updating and will refuse to update if too low.</li><li>Make sure your log level is set to <code>info</code>. When set to <code>warning</code> or <code>error</code>, frontend will not report some messages indicating the current OTA status.</li></ul><h2 id="advanced-configuration" tabindex="-1"><a class="header-anchor" href="#advanced-configuration"><span>Advanced configuration</span></a></h2><p>You can increase (or decrease, albeit less useful) the default timeout for the reception of chunk requests from the device. This can help if you notice a device is unusually slow at this. The default is however already 150000ms and should fit most cases.</p><div class="hint-container tip"><p class="hint-container-title">TIP</p><p>The below settings can also be set per-update-request (see <a href="#update-firmware">Update firmware</a>), in the request payload directly.</p></div><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml"><pre><code class="language-yaml"><span class="line"><span class="token key atrule">ota</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">image_block_request_timeout</span><span class="token punctuation">:</span> <span class="token number">150000</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>You can increase or decrease the default speed (the minimum delay between two chunks) at which Zigbee2MQTT responds during the update process to send chunks of images. The default is 250ms. A higher speed will result in faster OTA updates, but may require a far more stable network to avoid issues, crashes. A lower speed will result in slower OTA updates, but may noticeably increase reliability, and overall network stability.</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml"><pre><code class="language-yaml"><span class="line"><span class="token key atrule">ota</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">image_block_response_delay</span><span class="token punctuation">:</span> <span class="token number">250</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Minimum: 50</p><p>You can increase or decrease the size of image chunks sent by Zigbee2MQTT during the update process. The default is 50 bytes. The behavior is similar to <code>image_block_response_delay</code> regarding the effect of higher or lower values.</p><p><em>Note that for some known combinations (manufacturer/version/etc.), expected sizes will always override this setting to ensure they work correctly.</em></p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml"><pre><code class="language-yaml"><span class="line"><span class="token key atrule">ota</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">default_maximum_data_size</span><span class="token punctuation">:</span> <span class="token number">50</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Minimum: 10, Maximum: 100</p><div class="hint-container warning"><p class="hint-container-title">ATTENTION</p><p>Some devices will refuse higher sizes than 50 bytes, some 64 bytes. Several network parameters must also be taken into account to derive this value. It is not recommended to change this setting unless you have a very good reason (instructed to do so in an issue for example).</p></div><h2 id="local-ota-index-and-firmware-files" tabindex="-1"><a class="header-anchor" href="#local-ota-index-and-firmware-files"><span>Local OTA index and firmware files</span></a></h2><div class="hint-container caution"><p class="hint-container-title">CAUTION</p><p>Improper use of local OTA index &amp; firmware files can result in bricked devices. There are special checks that should nearly always be added for certain manufacturers (e.g. Tuya &amp; derived) to prevent mismatches (mostly due to several manufacturers improperly implementing the Zigbee specification).</p></div><p>An OTA index file is a list of firmware images available in designated locations. When checking if an update is available, Zigbee2MQTT determines current hardware and firmware version for a particular device, and then searches for a suitable upgrade image in the index file. Zigbee2MQTT uses the <a href="https://github.com/Koenkk/zigbee-OTA" target="_blank" rel="noopener noreferrer">Zigbee-OTA</a> firmware repository which contains the <a href="https://github.com/Koenkk/zigbee-OTA/blob/master/index.json" target="_blank" rel="noopener noreferrer">upgrade index file</a>, and the <a href="https://github.com/Koenkk/zigbee-OTA/blob/master/index1.json" target="_blank" rel="noopener noreferrer">downgrade index file</a>.</p><p>Sometimes it is necessary to add a firmware image that is not in that repository. This could be helpful when developing a DIY device, or install a test/alternate image for a mass-produced device. In this case you can supply Zigbee2MQTT with an alternate index file, located locally or on a web server. This index file will point Zigbee2MQTT to the firmware image files. Records in the override OTA index file will take precedence over the records in the Zigbee-OTA repository, so that it is possible to alter the image for a particular device. If the default Zigbee2MQTT index URLs (see above) are inaccessible (e.g. air gap network), and a local OTA index is provided, only the local OTA index will be used.</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml"><pre><code class="language-yaml"><span class="line"><span class="token key atrule">ota</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">zigbee_ota_override_index_location</span><span class="token punctuation">:</span> my_index.json</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>A local index file is searched in the data directory (next to <code>configuration.yaml</code>). The file name also could be a full path to the file, taking into account that the host file system may not be available when running Zigbee2MQTT in a virtualized environment (Docker, etc.). Alternatively, Zigbee2MQTT supports index files located on a remote HTTP(s) server. In this case <code>zigbee_ota_override_index_location</code> should point to the URL of the index file.</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml"><pre><code class="language-yaml"><span class="line"><span class="token key atrule">ota</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token key atrule">zigbee_ota_override_index_location</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//example.com/ota/my_index.json</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>The override OTA index file shall have the same structure as the <a href="https://github.com/Koenkk/zigbee-OTA/blob/master/index.json" target="_blank" rel="noopener noreferrer">Zigbee-OTA index file</a>.</p><p>For local files, only image location is required through <code>url</code> (either a full path to the image file, or relative to the Zigbee2MQTT data directory). Zigbee2MQTT can derive the rest from the files themselves:</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">[</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./path/to/my/image.ota&quot;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>For hosted files, on top of <code>url</code>, all required metadata must be provided (<code>imageType</code>, <code>manufacturerCode</code>, <code>fileVersion</code>, all expected to match that of the file at <code>url</code>):</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">[</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://example.com/path/to/my/image.ota&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;imageType&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;manufactureCode&quot;</span><span class="token operator">:</span> <span class="token number">1001</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;fileVersion&quot;</span><span class="token operator">:</span> <span class="token number">321</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">TIP</p><p>The following tool can help to generate this information: <a href="https://nerivec.github.io/zigbee-ota-file-editor/" target="_blank" rel="noopener noreferrer">https://nerivec.github.io/zigbee-ota-file-editor/</a></p></div><p>See <a href="https://github.com/Koenkk/zigbee-OTA/tree/master?tab=readme-ov-file#notes-for-maintainers--developers" target="_blank" rel="noopener noreferrer">Zigbee-OTA README</a> if an image requires extra metadata.</p><p>Normally Zigbee2MQTT compares the current device&#39;s firmware version with the version of the available image, and allows flashing only if <code>fileVersion</code> is higher than the current one for upgrades, or lower for downgrades. To force Zigbee2MQTT to use an arbitrary version you can set <code>force</code> to <code>true</code>:</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">[</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;HelloZigbee.ota&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;force&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">TIP</p><p>Even though Zigbee specification allows firmware downgrading, some devices may reject older firmware versions. Additionally, updating to a firmware of same version is not supported by Zigbee specification. This cannot be forced by Zigbee2MQTT.</p></div></div><!--[--><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link label" href="https://github.com/Koenkk/zigbee2mqtt.io/edit/master/docs/guide/usage/ota_updates.md" aria-label="Help to make the docu better and edit this page on Github " rel="noopener noreferrer" target="_blank"><!--[--><!--[--><svg class="edit-icon" viewbox="0 0 1024 1024"><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]--><!--]-->Help to make the docu better and edit this page on Github <!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><time class="meta-item-info" datetime="2026-02-28T19:30:48.000Z" data-allow-mismatch>2/28/26, 7:30 PM</time></div><!----></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/guide/usage/groups.html" aria-label="Groups"><!--[--><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span class="external-link">Groups</span></div><!--]--></a><a class="route-link auto-link next" href="/guide/usage/mqtt_topics_and_messages.html" aria-label="MQTT Topics and Messages"><!--[--><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span class="external-link">MQTT Topics and Messages</span></div><!--]--></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script src="/assets/js/runtime~app.fd7cd563.js" defer></script><script src="/assets/js/5654.0a647862.js" defer></script><script src="/assets/js/app.a5c72e85.js" defer></script>
  </body>
</html>
